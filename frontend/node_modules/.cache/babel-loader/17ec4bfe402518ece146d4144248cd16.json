{"ast":null,"code":"/** These methods may break the react binding if called directly */\nconst skipMethods = ['setMaxBounds', 'setMinZoom', 'setMaxZoom', 'setMinPitch', 'setMaxPitch', 'setRenderWorldCopies', 'setProjection', 'setStyle', 'addSource', 'removeSource', 'addLayer', 'removeLayer', 'setLayerZoomRange', 'setFilter', 'setPaintProperty', 'setLayoutProperty', 'setLight', 'setTerrain', 'setFog', 'remove'];\nexport default function createRef(mapInstance, mapLib) {\n  if (!mapInstance) {\n    return null;\n  }\n\n  const map = mapInstance.map;\n  const result = {\n    getMap: () => map,\n    // Overwrite getters to use our shadow transform\n    getCenter: () => mapInstance.transform.center,\n    getZoom: () => mapInstance.transform.zoom,\n    getBearing: () => mapInstance.transform.bearing,\n    getPitch: () => mapInstance.transform.pitch,\n    getPadding: () => mapInstance.transform.padding,\n    getBounds: () => mapInstance.transform.getBounds(),\n    project: lnglat => {\n      return mapInstance.transform.locationPoint(mapLib.LngLat.convert(lnglat));\n    },\n    unproject: point => {\n      return mapInstance.transform.pointLocation(mapLib.Point.convert(point));\n    }\n  };\n\n  for (const key of getMethodNames(map)) {\n    // @ts-expect-error\n    if (!(key in result) && !skipMethods.includes(key)) {\n      result[key] = map[key].bind(map);\n    }\n  }\n\n  return result;\n}\n\nfunction getMethodNames(obj) {\n  const result = new Set();\n  let proto = obj;\n\n  while (proto) {\n    for (const key of Object.getOwnPropertyNames(proto)) {\n      if (key[0] !== '_' && typeof obj[key] === 'function' && key !== 'fire' && key !== 'setEventedParent') {\n        result.add(key);\n      }\n    }\n\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Array.from(result);\n}","map":{"version":3,"sources":["/Users/genie/code/chiutzuning/find-museum-app/frontend/node_modules/react-map-gl/dist/esm/mapbox/create-ref.js"],"names":["skipMethods","createRef","mapInstance","mapLib","map","result","getMap","getCenter","transform","center","getZoom","zoom","getBearing","bearing","getPitch","pitch","getPadding","padding","getBounds","project","lnglat","locationPoint","LngLat","convert","unproject","point","pointLocation","Point","key","getMethodNames","includes","bind","obj","Set","proto","Object","getOwnPropertyNames","add","getPrototypeOf","Array","from"],"mappings":"AAAA;AACA,MAAMA,WAAW,GAAG,CAChB,cADgB,EAEhB,YAFgB,EAGhB,YAHgB,EAIhB,aAJgB,EAKhB,aALgB,EAMhB,sBANgB,EAOhB,eAPgB,EAQhB,UARgB,EAShB,WATgB,EAUhB,cAVgB,EAWhB,UAXgB,EAYhB,aAZgB,EAahB,mBAbgB,EAchB,WAdgB,EAehB,kBAfgB,EAgBhB,mBAhBgB,EAiBhB,UAjBgB,EAkBhB,YAlBgB,EAmBhB,QAnBgB,EAoBhB,QApBgB,CAApB;AAsBA,eAAe,SAASC,SAAT,CAAmBC,WAAnB,EAAgCC,MAAhC,EAAwC;AACnD,MAAI,CAACD,WAAL,EAAkB;AACd,WAAO,IAAP;AACH;;AACD,QAAME,GAAG,GAAGF,WAAW,CAACE,GAAxB;AACA,QAAMC,MAAM,GAAG;AACXC,IAAAA,MAAM,EAAE,MAAMF,GADH;AAEX;AACAG,IAAAA,SAAS,EAAE,MAAML,WAAW,CAACM,SAAZ,CAAsBC,MAH5B;AAIXC,IAAAA,OAAO,EAAE,MAAMR,WAAW,CAACM,SAAZ,CAAsBG,IAJ1B;AAKXC,IAAAA,UAAU,EAAE,MAAMV,WAAW,CAACM,SAAZ,CAAsBK,OAL7B;AAMXC,IAAAA,QAAQ,EAAE,MAAMZ,WAAW,CAACM,SAAZ,CAAsBO,KAN3B;AAOXC,IAAAA,UAAU,EAAE,MAAMd,WAAW,CAACM,SAAZ,CAAsBS,OAP7B;AAQXC,IAAAA,SAAS,EAAE,MAAMhB,WAAW,CAACM,SAAZ,CAAsBU,SAAtB,EARN;AASXC,IAAAA,OAAO,EAAGC,MAAD,IAAY;AACjB,aAAOlB,WAAW,CAACM,SAAZ,CAAsBa,aAAtB,CAAoClB,MAAM,CAACmB,MAAP,CAAcC,OAAd,CAAsBH,MAAtB,CAApC,CAAP;AACH,KAXU;AAYXI,IAAAA,SAAS,EAAGC,KAAD,IAAW;AAClB,aAAOvB,WAAW,CAACM,SAAZ,CAAsBkB,aAAtB,CAAoCvB,MAAM,CAACwB,KAAP,CAAaJ,OAAb,CAAqBE,KAArB,CAApC,CAAP;AACH;AAdU,GAAf;;AAgBA,OAAK,MAAMG,GAAX,IAAkBC,cAAc,CAACzB,GAAD,CAAhC,EAAuC;AACnC;AACA,QAAI,EAAEwB,GAAG,IAAIvB,MAAT,KAAoB,CAACL,WAAW,CAAC8B,QAAZ,CAAqBF,GAArB,CAAzB,EAAoD;AAChDvB,MAAAA,MAAM,CAACuB,GAAD,CAAN,GAAcxB,GAAG,CAACwB,GAAD,CAAH,CAASG,IAAT,CAAc3B,GAAd,CAAd;AACH;AACJ;;AACD,SAAOC,MAAP;AACH;;AACD,SAASwB,cAAT,CAAwBG,GAAxB,EAA6B;AACzB,QAAM3B,MAAM,GAAG,IAAI4B,GAAJ,EAAf;AACA,MAAIC,KAAK,GAAGF,GAAZ;;AACA,SAAOE,KAAP,EAAc;AACV,SAAK,MAAMN,GAAX,IAAkBO,MAAM,CAACC,mBAAP,CAA2BF,KAA3B,CAAlB,EAAqD;AACjD,UAAIN,GAAG,CAAC,CAAD,CAAH,KAAW,GAAX,IACA,OAAOI,GAAG,CAACJ,GAAD,CAAV,KAAoB,UADpB,IAEAA,GAAG,KAAK,MAFR,IAGAA,GAAG,KAAK,kBAHZ,EAGgC;AAC5BvB,QAAAA,MAAM,CAACgC,GAAP,CAAWT,GAAX;AACH;AACJ;;AACDM,IAAAA,KAAK,GAAGC,MAAM,CAACG,cAAP,CAAsBJ,KAAtB,CAAR;AACH;;AACD,SAAOK,KAAK,CAACC,IAAN,CAAWnC,MAAX,CAAP;AACH","sourcesContent":["/** These methods may break the react binding if called directly */\nconst skipMethods = [\n    'setMaxBounds',\n    'setMinZoom',\n    'setMaxZoom',\n    'setMinPitch',\n    'setMaxPitch',\n    'setRenderWorldCopies',\n    'setProjection',\n    'setStyle',\n    'addSource',\n    'removeSource',\n    'addLayer',\n    'removeLayer',\n    'setLayerZoomRange',\n    'setFilter',\n    'setPaintProperty',\n    'setLayoutProperty',\n    'setLight',\n    'setTerrain',\n    'setFog',\n    'remove'\n];\nexport default function createRef(mapInstance, mapLib) {\n    if (!mapInstance) {\n        return null;\n    }\n    const map = mapInstance.map;\n    const result = {\n        getMap: () => map,\n        // Overwrite getters to use our shadow transform\n        getCenter: () => mapInstance.transform.center,\n        getZoom: () => mapInstance.transform.zoom,\n        getBearing: () => mapInstance.transform.bearing,\n        getPitch: () => mapInstance.transform.pitch,\n        getPadding: () => mapInstance.transform.padding,\n        getBounds: () => mapInstance.transform.getBounds(),\n        project: (lnglat) => {\n            return mapInstance.transform.locationPoint(mapLib.LngLat.convert(lnglat));\n        },\n        unproject: (point) => {\n            return mapInstance.transform.pointLocation(mapLib.Point.convert(point));\n        }\n    };\n    for (const key of getMethodNames(map)) {\n        // @ts-expect-error\n        if (!(key in result) && !skipMethods.includes(key)) {\n            result[key] = map[key].bind(map);\n        }\n    }\n    return result;\n}\nfunction getMethodNames(obj) {\n    const result = new Set();\n    let proto = obj;\n    while (proto) {\n        for (const key of Object.getOwnPropertyNames(proto)) {\n            if (key[0] !== '_' &&\n                typeof obj[key] === 'function' &&\n                key !== 'fire' &&\n                key !== 'setEventedParent') {\n                result.add(key);\n            }\n        }\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Array.from(result);\n}\n//# sourceMappingURL=create-ref.js.map"]},"metadata":{},"sourceType":"module"}